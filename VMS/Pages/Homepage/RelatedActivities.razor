@inject IJSRuntime JsRuntime
<div class="container-lg p-0 position-relative">

    <div class="act-container">
        <div class="act-section margin-10">
            <a href="@Routes.Activities" class="act-header">
                <span class="act-header__green">hoạt động</span>
                <span class="act-header__blue">mới nhất</span>
                <span class="act-header__green">gần bạn</span>
            </a>

            <div class="my-row">
                <div class="col-lg-3 col-4 padding-10 item-wrapper">
                    <a href="@Routes.Activities" class="act-item">
                        <img src="./img/RelatedActivities/1st-activity.png" alt="Hoạt động tình nguyện" class="act-item--img">
                        <div class="act-item--title fw-bold">
                            <p class="m-0">Tuyển tình nguyện viên tham gia hỗ trợ công tác phòng, chống dịch Covid-19</p>
                        </div>
                        <span class="act-unchecked material-icons-outlined">
                            check_circle_outline
                        </span>
                    </a>
                </div>
    }
    else if (user.Lat != 0 && user.Long != 0)
    {
        <h3>NHỮNG HOẠT ĐỘNG MỚI NHẤT</h3>

                <div class="col-lg-3 col-4 padding-10 item-wrapper">
                    <a href="@Routes.Activities" class="act-item">
                        <img src="./img/RelatedActivities/1st-activity.png" alt="Hoạt động tình nguyện" class="act-item--img">
                        <div class="act-item--title fw-bold">
                            <p class="m-0">Tuyển tình nguyện viên tham gia hỗ trợ công tác phòng, chống dịch Covid-19</p>
                        </div>
                        <span class="act-checked material-icons">
                            check_circle
                        </span>
                    </a>
                </div>
    }
}
@if (user.StudentId != null)
{
    if (user.Lat != 0 && user.Long != 0)
    {
        <h3>NHỮNG HOẠT ĐỘNG MỚI NHẤT GẦN BẠN</h3>

                <div class="col-lg-3 col-4 padding-10 item-wrapper">
                    <a href="@Routes.Activities" class="act-item">
                        <img src="./img/RelatedActivities/1st-activity.png" alt="Hoạt động tình nguyện" class="act-item--img">
                        <div class="act-item--title fw-bold">
                            <p class="m-0">Tuyển tình nguyện viên tham gia hỗ trợ công tác phòng, chống dịch Covid-19</p>
                        </div>
                        <span class="act-checked material-icons">
                            check_circle
                        </span>
                    </a>
                </div>
    }
    else if(user.Lat == 0 && user.Long == 0)
                {
                    <h3>Not done yet</h3>
                }

}

@code {
    private List<UserWithActivityViewModel> newestActivitiesWithUserLoc, featureActivitiesWithUserLoc;
    private List<UserWithActivityViewModel> newestActivitiesWithoutUserLoc, featureActivitiesWithoutUserLoc;
    private UserViewModel user;

                <div class="col-lg-3 col-4 padding-10 item-wrapper">
                    <a href="@Routes.Activities" class="act-item">
                        <img src="./img/RelatedActivities/1st-activity.png" alt="Hoạt động tình nguyện" class="act-item--img">
                        <div class="act-item--title fw-bold">
                            <p class="m-0">Tuyển tình nguyện viên tham gia hỗ trợ công tác phòng, chống dịch Covid-19</p>
                        </div>
                        <span class="act-checked material-icons">
                            check_circle
                        </span>
                    </a>
                </div>
            </div>
        </div>
        <a href="@Routes.Activities" class="act-more">Nhiều hơn >></a>
    </div>

    <div class="act-container">
        <div class="act-section margin-10">
            <a href="@Routes.Activities" class="act-header">
                <span class="act-header__green">hoạt động</span>
                <span class="act-header__blue">mới nhất</span>
                <span class="act-header__green">gần bạn</span>
            </a>

            <div class="my-row">
                <div class="col-lg-3 col-4 padding-10 item-wrapper">
                    <a href="@Routes.Activities" class="act-item">
                        <img src="./img/RelatedActivities/1st-activity.png" alt="Hoạt động tình nguyện" class="act-item--img">
                        <div class="act-item--title fw-bold">
                            <p class="m-0">Tuyển tình nguyện viên tham gia hỗ trợ công tác phòng, chống dịch Covid-19</p>
                        </div>
                        <span class="act-unchecked material-icons-outlined">
                            check_circle_outline
                        </span>
                    </a>
                </div>

                <div class="col-lg-3 col-4 padding-10 item-wrapper">
                    <a href="@Routes.Activities" class="act-item">
                        <img src="./img/RelatedActivities/1st-activity.png" alt="Hoạt động tình nguyện" class="act-item--img">
                        <div class="act-item--title fw-bold">
                            <p class="m-0">Tuyển tình nguyện viên tham gia hỗ trợ công tác phòng, chống dịch Covid-19</p>
                        </div>
                        <span class="act-checked material-icons">
                            check_circle
                        </span>
                    </a>
                </div>

                <div class="col-lg-3 col-4 padding-10 item-wrapper">
                    <a href="@Routes.Activities" class="act-item">
                        <img src="./img/RelatedActivities/1st-activity.png" alt="Hoạt động tình nguyện" class="act-item--img">
                        <div class="act-item--title fw-bold">
                            <p class="m-0">Tuyển tình nguyện viên tham gia hỗ trợ công tác phòng, chống dịch Covid-19</p>
                        </div>
                        <span class="act-checked material-icons">
                            check_circle
                        </span>
                    </a>
                </div>

                <div class="col-lg-3 col-4 padding-10 item-wrapper">
                    <a href="@Routes.Activities" class="act-item">
                        <img src="./img/RelatedActivities/1st-activity.png" alt="Hoạt động tình nguyện" class="act-item--img">
                        <div class="act-item--title fw-bold">
                            <p class="m-0">Tuyển tình nguyện viên tham gia hỗ trợ công tác phòng, chống dịch Covid-19</p>
                        </div>
                        <span class="act-checked material-icons">
                            check_circle
                        </span>
                    </a>
                </div>
            </div>
        </div>
        <a href="@Routes.Activities" class="act-more-2">Nhiều hơn >></a>
    </div>
</div>

        newestActivitiesWithUserLoc = await UserWithActService.GetNewestActivitiesWithUserLocAsync();
        featureActivitiesWithUserLoc = await UserWithActService.GetFeaturedActivitiesWithUserLocAsync();

@code {
    class UserLocation
    {
        public double Lat { get; set; }
        public double Long { get; set; }
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        var location = await JsRuntime.InvokeAsync<UserLocation>("vms.GetUserLocation");
    }
}
